start distributed ************

start distributed ************
start distributed ************


start distributed ************

use Dense Multi-scale MVSNet
use Dense Multi-scale MVSNet
use Dense Multi-scale MVSNet
MVSNet model , refine: True, refine_net: RefineNet,  fea_net: FeatureNet, cost_net: CostRegNet, origin_size: False, image_scale: 0.25
cost aggregation:  0
MVSNet model , refine: True, refine_net: RefineNet,  fea_net: FeatureNet, cost_net: CostRegNet, origin_size: False, image_scale: 0.25
cost aggregation:  0
MVSNet model , refine: True, refine_net: RefineNet,  fea_net: FeatureNet, cost_net: CostRegNet, origin_size: False, image_scale: 0.25
cost aggregation:  0
current time 20210415_150814
creating new summary file
Training Phase in UNetConvLSTM: 128, 160, gn: True
Training Phase in UNetConvLSTM: 128, 160, gn: True
Traceback (most recent call last):
  File "train.py", line 189, in <module>
    max_h=args.max_h, max_w=args.max_w, reg_loss=args.reg_loss, gn=args.gn)
  File "/home/hadoop/scx/mvsnet/mvsnet/Mask_upsup_D2HC-RMVSNet-master/models/drmvsnet.py", line 112, in __init__
    self.mask_net = UResVCG16()
  File "/home/hadoop/scx/mvsnet/mvsnet/Mask_upsup_D2HC-RMVSNet-master/models/module.py", line 189, in __init__
    self.conv1_0 = nn.Conv2d(3              , base_filter * 2, stride=2)
TypeError: __init__() missing 1 required positional argument: 'kernel_size'
Training Phase in UNetConvLSTM: 128, 160, gn: True
Traceback (most recent call last):
  File "train.py", line 189, in <module>
    max_h=args.max_h, max_w=args.max_w, reg_loss=args.reg_loss, gn=args.gn)
  File "/home/hadoop/scx/mvsnet/mvsnet/Mask_upsup_D2HC-RMVSNet-master/models/drmvsnet.py", line 112, in __init__
    self.mask_net = UResVCG16()
  File "/home/hadoop/scx/mvsnet/mvsnet/Mask_upsup_D2HC-RMVSNet-master/models/module.py", line 189, in __init__
    self.conv1_0 = nn.Conv2d(3              , base_filter * 2, stride=2)
TypeError: __init__() missing 1 required positional argument: 'kernel_size'
Traceback (most recent call last):
  File "train.py", line 189, in <module>
    max_h=args.max_h, max_w=args.max_w, reg_loss=args.reg_loss, gn=args.gn)
  File "/home/hadoop/scx/mvsnet/mvsnet/Mask_upsup_D2HC-RMVSNet-master/models/drmvsnet.py", line 112, in __init__
    self.mask_net = UResVCG16()
  File "/home/hadoop/scx/mvsnet/mvsnet/Mask_upsup_D2HC-RMVSNet-master/models/module.py", line 189, in __init__
    self.conv1_0 = nn.Conv2d(3              , base_filter * 2, stride=2)
TypeError: __init__() missing 1 required positional argument: 'kernel_size'
argv: ['--local_rank=0', '--dataset=dtu_yao', '--model=drmvsnet', '--batch_size=2', '--trainpath=/home/hadoop/scx/mvsnet/trainingdata/dtu_training', '--loss=unsup_loss', '--lr=0.001', '--epochs=10', '--loss_w=4', '--lr_scheduler=cosinedecay', '--optimizer=Adam', '--view_num=7', '--inverse_depth=False', '--image_scale=0.25', '--using_apex', '--reg_loss=True', '--gn=True', '--ngpu=4', '--fea_net=FeatNet', '--cost_net=UNetConvLSTM', '--trainlist=lists/dtu/train.txt', '--vallist=lists/dtu/val.txt', '--testlist=lists/dtu/test.txt', '--numdepth=128', '--interval_scale=1.06', '--logdir=./checkpoints/0415_drmvs_g4_b2_d128_is1.06_unsup_loss_lr0.001_opAdam_ep10__shcosinedecay_FeatNet_UNetConvLSTM_vn7_is0.25_gnTrue_v1.26_newdepth']
################################  args  ################################
mode      	train                         	<class 'str'>       
model     	drmvsnet                      	<class 'str'>       
device    	cuda                          	<class 'str'>       
loss      	unsup_loss                    	<class 'str'>       
fea_net   	FeatNet                       	<class 'str'>       
cost_net  	UNetConvLSTM                  	<class 'str'>       
refine    	False                         	<class 'bool'>      
refine_net	RefineNet                     	<class 'str'>       
dp_ratio  	0.0                           	<class 'float'>     
inverse_depth	False                         	<class 'bool'>      
origin_size	False                         	<class 'bool'>      
save_depth	False                         	<class 'bool'>      
using_apex	True                          	<class 'bool'>      
sync_bn   	False                         	<class 'bool'>      
opt_level 	O0                            	<class 'str'>       
keep_batchnorm_fp32	None                          	<class 'NoneType'>  
loss_scale	None                          	<class 'NoneType'>  
gn        	True                          	<class 'bool'>      
reg_loss  	True                          	<class 'bool'>      
max_h     	512                           	<class 'int'>       
max_w     	640                           	<class 'int'>       
local_rank	0                             	<class 'int'>       
light_idx 	3                             	<class 'int'>       
cost_aggregation	0                             	<class 'int'>       
view_num  	7                             	<class 'int'>       
image_scale	0.25                          	<class 'float'>     
ngpu      	4                             	<class 'int'>       
dataset   	dtu_yao                       	<class 'str'>       
trainpath 	/home/hadoop/scx/mvsnet/trainingdata/dtu_training	<class 'str'>       
testpath  	/home/hadoop/scx/mvsnet/trainingdata/dtu_training	<class 'str'>       
trainlist 	lists/dtu/train.txt           	<class 'str'>       
vallist   	lists/dtu/val.txt             	<class 'str'>       
testlist  	lists/dtu/test.txt            	<class 'str'>       
epochs    	10                            	<class 'int'>       
lr        	0.001                         	<class 'float'>     
loss_w    	4                             	<class 'int'>       
lrepochs  	10,12,14:2                    	<class 'str'>       
wd        	0.0                           	<class 'float'>     
lr_scheduler	cosinedecay                   	<class 'str'>       
optimizer 	Adam                          	<class 'str'>       
batch_size	2                             	<class 'int'>       
numdepth  	128                           	<class 'int'>       
interval_scale	1.06                          	<class 'float'>     
loadckpt  	None                          	<class 'NoneType'>  
logdir    	./checkpoints/0415_drmvs_g4_b2_d128_is1.06_unsup_loss_lr0.001_opAdam_ep10__shcosinedecay_FeatNet_UNetConvLSTM_vn7_is0.25_gnTrue_v1.26_newdepth	<class 'str'>       
save_dir  	None                          	<class 'NoneType'>  
resume    	False                         	<class 'bool'>      
summary_freq	20                            	<class 'int'>       
save_freq 	1                             	<class 'int'>       
seed      	1                             	<class 'int'>       
is_distributed	True                          	<class 'bool'>      
########################################################################
use Dense Multi-scale MVSNet
MVSNet model , refine: True, refine_net: RefineNet,  fea_net: FeatureNet, cost_net: CostRegNet, origin_size: False, image_scale: 0.25
cost aggregation:  0
Training Phase in UNetConvLSTM: 128, 160, gn: True
Traceback (most recent call last):
  File "train.py", line 189, in <module>
    max_h=args.max_h, max_w=args.max_w, reg_loss=args.reg_loss, gn=args.gn)
  File "/home/hadoop/scx/mvsnet/mvsnet/Mask_upsup_D2HC-RMVSNet-master/models/drmvsnet.py", line 112, in __init__
    self.mask_net = UResVCG16()
  File "/home/hadoop/scx/mvsnet/mvsnet/Mask_upsup_D2HC-RMVSNet-master/models/module.py", line 189, in __init__
    self.conv1_0 = nn.Conv2d(3              , base_filter * 2, stride=2)
TypeError: __init__() missing 1 required positional argument: 'kernel_size'
Traceback (most recent call last):
  File "/home/hadoop/scx/mvsnet/anaconda3/envs/drmvsnet/lib/python3.6/runpy.py", line 193, in _run_module_as_main
    "__main__", mod_spec)
  File "/home/hadoop/scx/mvsnet/anaconda3/envs/drmvsnet/lib/python3.6/runpy.py", line 85, in _run_code
    exec(code, run_globals)
  File "/home/hadoop/scx/mvsnet/anaconda3/envs/drmvsnet/lib/python3.6/site-packages/torch/distributed/launch.py", line 260, in <module>
    main()
  File "/home/hadoop/scx/mvsnet/anaconda3/envs/drmvsnet/lib/python3.6/site-packages/torch/distributed/launch.py", line 256, in main
    cmd=cmd)
subprocess.CalledProcessError: Command '['/home/hadoop/scx/mvsnet/anaconda3/envs/drmvsnet/bin/python', '-u', 'train.py', '--local_rank=3', '--dataset=dtu_yao', '--model=drmvsnet', '--batch_size=2', '--trainpath=/home/hadoop/scx/mvsnet/trainingdata/dtu_training', '--loss=unsup_loss', '--lr=0.001', '--epochs=10', '--loss_w=4', '--lr_scheduler=cosinedecay', '--optimizer=Adam', '--view_num=7', '--inverse_depth=False', '--image_scale=0.25', '--using_apex', '--reg_loss=True', '--gn=True', '--ngpu=4', '--fea_net=FeatNet', '--cost_net=UNetConvLSTM', '--trainlist=lists/dtu/train.txt', '--vallist=lists/dtu/val.txt', '--testlist=lists/dtu/test.txt', '--numdepth=128', '--interval_scale=1.06', '--logdir=./checkpoints/0415_drmvs_g4_b2_d128_is1.06_unsup_loss_lr0.001_opAdam_ep10__shcosinedecay_FeatNet_UNetConvLSTM_vn7_is0.25_gnTrue_v1.26_newdepth']' returned non-zero exit status 1.
*****************************************
Setting OMP_NUM_THREADS environment variable for each process to be 1 in default, to avoid your system being overloaded, please further tune the variable for optimal performance in your application as needed. 
*****************************************
